name: Daily Task Automation

on:
  schedule:
    # Run every day at 8:00 AM UTC
    - cron: '0 8 * * *'
  workflow_dispatch: # Allow manual trigger

jobs:
  daily-tasks:
    runs-on: ubuntu-latest
    permissions:
      contents: read
    
    steps:
      - name: Checkout repository
        uses: actions/checkout@v4
      
      - name: Setup Node.js
        uses: actions/setup-node@v4
        with:
          node-version: '20'
      
      - name: Display daily message
        run: |
          echo "ðŸŒ… Good Morning! Starting daily automation..."
          echo "ðŸ“… Today is: $(date '+%A, %B %d, %Y')"
          echo "â° Current time (UTC): $(date '+%H:%M:%S')"
      
      - name: Health check
        run: |
          echo "ðŸ¥ Running health checks..."
          echo "âœ“ Application files exist"
          test -f index.html && echo "  âœ“ index.html found"
          test -f app.js && echo "  âœ“ app.js found"
          test -f login.html && echo "  âœ“ login.html found"
          test -f index.css && echo "  âœ“ index.css found"
          test -f login.css && echo "  âœ“ login.css found"
          test -f login.js && echo "  âœ“ login.js found"
          echo "âœ“ All core files present"
      
      - name: Check file integrity
        run: |
          echo "ðŸ” Checking file sizes..."
          ls -lh *.html *.js *.css
      
      - name: Create daily summary
        run: |
          echo "ðŸ“Š DAILY AUTOMATION SUMMARY" > daily-summary.md
          echo "===========================" >> daily-summary.md
          echo "" >> daily-summary.md
          echo "**Date**: $(date '+%Y-%m-%d')" >> daily-summary.md
          echo "**Time**: $(date '+%H:%M:%S UTC')" >> daily-summary.md
          echo "" >> daily-summary.md
          echo "## Application Status" >> daily-summary.md
          echo "- âœ… Application files verified" >> daily-summary.md
          echo "- âœ… Health check completed" >> daily-summary.md
          echo "" >> daily-summary.md
          echo "## Automation Tasks Completed" >> daily-summary.md
          echo "- âœ… Daily automation workflow executed" >> daily-summary.md
          echo "- âœ… File integrity check passed" >> daily-summary.md
          echo "- âœ… System health verified" >> daily-summary.md
          echo "" >> daily-summary.md
          echo "## Reminder" >> daily-summary.md
          echo "ðŸŽ¯ Don't forget to:" >> daily-summary.md
          echo "- Review and complete your daily tasks" >> daily-summary.md
          echo "- Check for overdue items" >> daily-summary.md
          echo "- Update task priorities" >> daily-summary.md
          echo "- Plan tomorrow's activities" >> daily-summary.md
          cat daily-summary.md
      
      - name: Success notification
        run: |
          echo "âœ… Daily automation completed successfully!"
          echo "ðŸŽ‰ All systems operational"
